let e;function t(e,t,s,i){Object.defineProperty(e,t,{get:s,set:i,enumerable:!0,configurable:!0})}var s=globalThis,i={},r={},n=s.parcelRequirebf15;null==n&&((n=function(e){if(e in i)return i[e].exports;if(e in r){var t=r[e];delete r[e];var s={id:e,exports:{}};return i[e]=s,t.call(s.exports,s,s.exports),s.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},s.parcelRequirebf15=n),(0,n.register)("fK5g3",function(e,s){var i,r,n,o;t(e.exports,"defaultEntityConfig",()=>l),t(e.exports,"defaultEdgeConfig",()=>h),t(e.exports,"MOUSE_BTN",()=>i),t(e.exports,"Gamer",()=>r);let l={r:5},h={top:!0,right:!0,bottom:!0,left:!0};(n=i||(i={}))[n.LEFT=0]="LEFT",n[n.MIDDLE=1]="MIDDLE",n[n.RIGHT=2]="RIGHT",(o=r||(r={}))[o.PLAYER=0]="PLAYER",o[o.AI=1]="AI"});var o=n("e93rA"),l=n("7Pz0b"),h=n("fK5g3");function a(e){let t=[];for(let s=0;s<9;s++)t.push({pos:e.createVector(Math.floor(s/3),s%3),owner:void 0});return t}var d=class{constructor(e,t){let s={showHelpers:!1,cells:a(e),size:300,currentTurn:h.Gamer.PLAYER,...t};this.p5=e,this.showHelpers=s.showHelpers,this.cells=s.cells,this.size=s.size,this.currentTurn=s.currentTurn,this.onResolve=s.onResolve,this.p5.canvas.addEventListener("click",this.onClick.bind(this))}setValues(e,t){if("size"===e)this.size=t;else throw"Unsupported key passed to setValues()"}onClick(e){let t=this.size/3,{innerWidth:s,innerHeight:i}=window,r=(s-this.size)/2,n=(i-this.size)/2,{clientX:o,clientY:l}=e;for(let e of this.cells){let s=r+e.pos.x*t,i=n+e.pos.y*t;void 0===e.owner&&o>s&&o<s+this.size/3&&l>i&&l<i+this.size/3&&(e.owner=this.currentTurn,this.currentTurn=this.currentTurn===h.Gamer.AI?h.Gamer.PLAYER:h.Gamer.AI)}let a=this.checkGameStatus();0===a.filledCells&&this.onResolve&&this.onResolve(a)}checkGameStatus(){let e,t=0;for(let e of this.cells)void 0===e.owner&&++t;return{filledCells:t,status:e}}resetGame(e=h.Gamer.PLAYER){this.cells=a(this.p5),this.currentTurn=e}update(e){return this}draw(){this.p5.cursor(this.p5.ARROW);let e=this.size/3,{innerWidth:t,innerHeight:s}=window,i=(t-this.size)/2,r=(s-this.size)/2,{mouseX:n,mouseY:o}=this.p5;for(let t of this.cells){let s=i+t.pos.x*e,l=r+t.pos.y*e;if(this.p5.strokeWeight(1),this.p5.stroke(255),this.p5.fill(40,50,10),this.p5.rectMode(this.p5.CORNER),this.p5.rect(s,l,e,e),void 0!==t.owner){this.p5.strokeWeight(0),this.p5.fill(255),this.p5.textAlign(this.p5.CENTER,this.p5.CENTER),this.p5.textSize(this.size/3);let e=t.owner===h.Gamer.PLAYER?"X":"O";this.p5.text(e,s+this.size/3/2,l+this.size/3/2)}void 0===t.owner&&n>s&&n<s+this.size/3&&o>l&&o<l+this.size/3&&this.p5.cursor(this.p5.HAND)}return this}},h=n("fK5g3");const u=document.getElementById("score-card"),p=document.getElementById("status");new(l&&l.__esModule?l.default:l)(t=>{let s={showHelpers:!0,size:400},i=new o.GUI({autoPlace:!1});function r(e){console.log(e);let t="";switch(e.status){case h.Gamer.PLAYER:t="Player 'X' Wins!!";break;case h.Gamer.AI:t="Player 'O' Wins!!";break;case"draw":t="Game is a Draw";break;default:t="Hey there!!"}u&&(u.style.display="flex"),p&&(p.innerText=t)}i.domElement.id="gui",document.getElementById("gui")?.appendChild(i.domElement),i.add(s,"showHelpers"),i.add(s,"size",200,500,10).onChange(t=>{e.setValues("size",t),u&&(u.style.top=`${(window.innerHeight+t)/2+30}px`)}),t.setup=()=>{t.createCanvas(window.innerWidth,window.innerHeight).parent("app"),t.background("white"),t.pixelDensity(1),t.colorMode(t.HSB),window.addEventListener("resize",()=>(function(e){e.resizeCanvas(window.innerWidth,window.innerHeight)})(t)),u&&(u.style.top=`${(window.innerHeight+s.size)/2+30}px`),u?.addEventListener("submit",t=>{t.preventDefault(),u.style.display="none",e.resetGame()}),function(e){e.background(200,60,10)}(t),e=new d(t,{showHelpers:s.showHelpers,size:s.size,onResolve:r})},t.draw=()=>{t.background(200,60,10),e.update(t.deltaTime).draw()}});
//# sourceMappingURL=tic-tac-toe.23d06f83.js.map
