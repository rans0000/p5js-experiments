let e;function s(e,s,t,i){Object.defineProperty(e,s,{get:t,set:i,enumerable:!0,configurable:!0})}var t=globalThis,i={},l={},r=t.parcelRequirebf15;null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in l){var s=l[e];delete l[e];var t={id:e,exports:{}};return i[e]=t,s.call(t.exports,t,t.exports),t.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,s){l[e]=s},t.parcelRequirebf15=r),(0,r.register)("fK5g3",function(e,t){var i,l,r,n;s(e.exports,"defaultEntityConfig",()=>o),s(e.exports,"defaultEdgeConfig",()=>h),s(e.exports,"MOUSE_BTN",()=>i),s(e.exports,"Gamer",()=>l);let o={r:5},h={top:!0,right:!0,bottom:!0,left:!0};(r=i||(i={}))[r.LEFT=0]="LEFT",r[r.MIDDLE=1]="MIDDLE",r[r.RIGHT=2]="RIGHT",(n=l||(l={}))[n.PLAYER=0]="PLAYER",n[n.AI=1]="AI"});var n=r("e93rA"),o=r("7Pz0b"),h=r("fK5g3");function a(e){let s=[];for(let t=0;t<9;t++)s.push({pos:e.createVector(t%3,Math.floor(t/3)),owner:void 0});return s}var c=class{constructor(e,s){let t={showHelpers:!1,cells:a(e),size:300,status:void 0,currentTurn:h.Gamer.PLAYER,winnerCells:[],...s};this.p5=e,this.showHelpers=t.showHelpers,this.cells=t.cells,this.size=t.size,this.status=t.status,this.currentTurn=t.currentTurn,t.winnerCells,this.onResolve=t.onResolve,this.p5.canvas.addEventListener("click",this.onClick.bind(this))}setValues(e,s){if("size"===e)this.size=s;else throw"Unsupported key passed to setValues()"}onClick(e){if(void 0!==this.status)return;let s=this.size/3,{innerWidth:t,innerHeight:i}=window,l=(t-this.size)/2,r=(i-this.size)/2,{clientX:n,clientY:o}=e;for(let e of this.cells){let t=l+e.pos.x*s,i=r+e.pos.y*s;void 0===e.owner&&n>t&&n<t+this.size/3&&o>i&&o<i+this.size/3&&(e.owner=this.currentTurn,this.currentTurn=this.currentTurn===h.Gamer.AI?h.Gamer.PLAYER:h.Gamer.AI)}let a=this.checkGameStatus();this.status=a.status,this.winnerCells=a.cells,(0===a.filledCells||void 0!==a.status)&&this.onResolve&&this.onResolve(a)}checkGameStatus(){let e,s=0,t=[];for(let e of this.cells)void 0===e.owner&&++s;for(let s=0;s<3;s++){if(void 0!==this.cells[s].owner&&this.cells[s].owner===this.cells[s+3].owner&&this.cells[s].owner===this.cells[s+6].owner){e=this.cells[s].owner,t=[this.cells[s],this.cells[s+3],this.cells[s+6]];break}if(void 0!==this.cells[3*s].owner&&this.cells[3*s].owner===this.cells[1+3*s].owner&&this.cells[3*s].owner===this.cells[2+3*s].owner){e=this.cells[3*s].owner,t=[this.cells[3*s],this.cells[1+3*s],this.cells[2+3*s]];break}}return void 0!==this.cells[0].owner&&this.cells[0].owner===this.cells[4].owner&&this.cells[0].owner===this.cells[8].owner&&(e=this.cells[0].owner,t=[this.cells[0],this.cells[4],this.cells[8]]),void 0!==this.cells[2].owner&&this.cells[2].owner===this.cells[4].owner&&this.cells[2].owner===this.cells[6].owner&&(e=this.cells[2].owner,t=[this.cells[2],this.cells[4],this.cells[6]]),0===s&&void 0===e&&(e="draw"),{filledCells:s,status:e,cells:t}}resetGame(e=h.Gamer.PLAYER){this.cells=a(this.p5),this.currentTurn=e,this.status=void 0,this.winnerCells=[]}update(e){return this}draw(){this.p5.cursor(this.p5.ARROW);let e=this.size/3,{innerWidth:s,innerHeight:t}=window,i=(s-this.size)/2,l=(t-this.size)/2,{mouseX:r,mouseY:n}=this.p5;for(let s of this.cells){let t=i+s.pos.x*e,o=l+s.pos.y*e;if(this.p5.strokeWeight(1),this.p5.stroke(255),this.p5.fill(40,50,10),this.p5.rectMode(this.p5.CORNER),this.p5.rect(t,o,e,e),void 0!==s.owner){this.p5.strokeWeight(0),this.p5.fill(255),this.p5.textAlign(this.p5.CENTER,this.p5.CENTER),this.p5.textSize(this.size/3);let e=s.owner===h.Gamer.PLAYER?"X":"O";this.p5.text(e,t+this.size/3/2,o+this.size/3/2)}(this.status===h.Gamer.AI||this.status===h.Gamer.PLAYER)&&(this.p5.strokeWeight(10),this.p5.stroke(0,100,100),this.p5.line(i+this.size/3/2+this.winnerCells[0].pos.x*e,l+this.size/3/2+this.winnerCells[0].pos.y*e,i+this.size/3/2+this.winnerCells[2].pos.x*e,l+this.size/3/2+this.winnerCells[2].pos.y*e)),void 0===this.status&&void 0===s.owner&&r>t&&r<t+this.size/3&&n>o&&n<o+this.size/3&&this.p5.cursor(this.p5.HAND)}return this}},h=r("fK5g3");const d=document.getElementById("score-card"),u=document.getElementById("status");new(o&&o.__esModule?o.default:o)(s=>{let t={showHelpers:!0,size:400},i=new n.GUI({autoPlace:!1});function l(e){let s="";switch(e.status){case h.Gamer.PLAYER:s="Player 'X' Wins!!";break;case h.Gamer.AI:s="Player 'O' Wins!!";break;case"draw":s="Game is a Draw";break;default:s="Hey there!!"}d&&(d.style.display="flex"),u&&(u.innerText=s)}i.domElement.id="gui",document.getElementById("gui")?.appendChild(i.domElement),i.add(t,"showHelpers"),i.add(t,"size",200,500,10).onChange(s=>{e.setValues("size",s),d&&(d.style.top=`${(window.innerHeight+s)/2+30}px`)}),s.setup=()=>{s.createCanvas(window.innerWidth,window.innerHeight).parent("app"),s.background("white"),s.pixelDensity(1),s.colorMode(s.HSB),window.addEventListener("resize",()=>(function(e){e.resizeCanvas(window.innerWidth,window.innerHeight)})(s)),d&&(d.style.top=`${(window.innerHeight+t.size)/2+30}px`),d?.addEventListener("submit",s=>{s.preventDefault(),d.style.display="none",e.resetGame()}),function(e){e.background(200,60,10)}(s),e=new c(s,{showHelpers:t.showHelpers,size:t.size,onResolve:l})},s.draw=()=>{s.background(200,60,10),e.update(s.deltaTime).draw()}});
//# sourceMappingURL=tic-tac-toe.17c13a78.js.map
